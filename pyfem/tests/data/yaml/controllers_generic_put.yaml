# http://yaml-online-parser.appspot.com
# Attribute Types
# http://stackoverflow.com/questions/10805474/updating-specific-record-in-inner-collection-with-mongodb
PrsPut_emails_1:
  # update first title in note.eId=1 in second email.eId=2
  _cls: Prs
  query: 
    slug: LarryStooge
  update:
    target_eIdPath: emails.1
    actions:
      $set:
        flds:
          typ    : work
          address: freddy@ms.com
          prim   : true
          notes:
            - _cls   : Note
              _types : [Note]
              typ    : work
              title  : this is a
              body   : Now is the time
PrsPut_fNam:
  # update first title in note.eId=1 in second email.eId=2
  _cls: Prs
  query: 
    slug: LarryStooge
  update:
    target_eIdPath: 
    actions:
      $set:
        flds:
          fNam: Mary
          lNam: Smith
PrsPut_emails_2_notes_1_title:
  # update first title in note.eId=1 in second email.eId=2
  _cls: Prs
  query: 
    slug: LarryStooge
  update:
    target_eIdPath: emails.2.notes.1 # numbers refer to eId's, NOT element offsets
    actions:
      $set:
        flds:
          title: New Title
PrsLarryStooge:
  _cls: Prs
  slug  : LarryStooge
  fNam  : Larry
  lNam  : Stooge
  oBy  : 50c502b7936aa20e20edd211
  emails:
    - _cls   : Email
      _types : [Email]
      eId    : 1
      typ    : work
      address: bill@ms.com
      prim   : true
    - _cls   : Email
      _types : [Email]
      eId    : 2
      typ    : work
      address: steve@apple.com
      notes:
        - _cls   : Note
          _types : [Note]
          eId    : 1
          typ    : work
          title  : this is a
          body   : Now is the time